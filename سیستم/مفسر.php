<?php  
class مفسر {  
    public static function اجرا($فایل) {  
        if (!file_exists($فایل)) {  
            return "فایل پیدا نشد!";  
        }  

        // خواندن محتوای فایل PSW  
        $محتوای_psw = file_get_contents($فایل);  

        // تبدیل سینتکس PSW به PHP  
        $جایگزینی‌ها = [  
            '/<؟/'          => '<?php ',  
            '/؟>/'          => '?>',  
            '/<کلاس (.*?)>/' => 'class $1 {',  
            '/<\/کلاس>/'    => '}',  
            '/<تابع (.*?)>/' => 'function $1 {',  
            '/<\/تابع>/'    => '}',  
            '/<اگر شرط="(.*?)">/' => 'if ($1) {',  
            '/<گرنه>/'      => '} else {',  
            '/<\/اگر>/'     => '}'  
        ];  

        $کد_php = preg_replace(array_keys($جایگزینی‌ها), $جایگزینی‌ها, $محتوای_psw);  

        // اجرای کد PHP  
        ob_start();  
        eval('?>' . $کد_php);  
        return ob_get_clean();  
    }  
}  
?>  
